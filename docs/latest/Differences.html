<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Differences</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="Differences.css" /> 
<meta name="src" content="Differences.tex" /> 
<link rel="stylesheet" type="text/css" href="../main.css" /></head><body 
><div class="center" 
>
<!--l. 137--><p class="noindent" >
</p><!--l. 144--><p class="noindent" > <img 
src="Logos/Logo-.png" alt="PIC"  
width="160" height="160"  />
</p><!--l. 148--><p class="noindent" >OpenCore
</p><!--l. 152--><p class="noindent" >Reference Manual (0.6<span class="sout">.1</span><span class="uwave">.2</span>)
</p><!--l. 156--><p class="noindent" >[2020.09.13]
</p><!--l. 164--><p class="noindent" >Copyright ©2018-2020 vit9696
</p>
</div>
                                                                                                  
                                                                                                  
     <!--l. 2474--><p class="noindent" >On macOS 10.7 and earlier XNU kernel can boot with architectures different from the usual x86_64. This setting
     will use the specified architecture to boot macOS when it is supported by the macOS and the configuration:
</p>
         <ul class="itemize1">
         <li class="itemize">Auto — Choose the preferred architecture automatically.
         </li>
         <li class="itemize">i386 — Use i386 (32-bit) kernel when available.
         </li>
         <li class="itemize">i386-user32 — Use i386 (32-bit) kernel when available and force the use of 32-bit userspace on 64-bit
         capable processors. On macOS 64-bit capable processors are assumed to support SSSE3. This is not the case
         for older 64-bit capable Pentium processors, which cause some applications to crash on macOS 10.6. The
         behaviour corresponds to -legacy kernel boot argument.
         </li>
         <li class="itemize">x86_64 — Use x86_64 (64-bit) kernel when available.</li></ul>
     <!--l. 2491--><p class="noindent" >Below is the algorithm determining the kernel architecture.
         </p><ol  class="enumerate2" >
         <li 
  class="enumerate" id="x1-39006x1">arch argument in image arguments (e.g. when launched via UEFI Shell) or in boot-args variable overrides
         any compatibility checks and forces the specified architecture, completing this algorithm.
         </li>
         <li 
  class="enumerate" id="x1-39008x2">OpenCore build architecture restricts capabilities to i386 and i386-user32 mode for the 32-bit firmware
         variant.
         </li>
         <li 
  class="enumerate" id="x1-39010x3">Determined EfiBoot version restricts architecture choice:
             <ul class="itemize1">
             <li class="itemize">10.4-10.5 — i386 or i386-user32
             </li>
             <li class="itemize">10.6 <span class="sout">-10.7 </span>— i386, i386-user32, or x86_64
             </li>
             <li class="itemize"><span class="uwave">10.7 — </span><span class="uwave">i386</span> <span class="uwave">or </span><span class="uwave">x86_64</span>
             </li>
             <li class="itemize">10.8 or newer — x86_64</li></ul>
         </li>
         <li 
  class="enumerate" id="x1-39012x4">If KernelArch is set to Auto and SSSE3 is not supported by the CPU, capabilities are restricted to i386-user32 if
         supported by EfiBoot.
         </li>
         <li 
  class="enumerate" id="x1-39014x5">Board identifier (from SMBIOS) based on EfiBoot version disables x86_64 support on an unsupported
         model if any i386 variant is supported. Auto is not consulted here as the list is not overridable in
         EfiBoot.
         </li>
         <li 
  class="enumerate" id="x1-39016x6">KernelArch restricts the support to the explicitly specified architecture (when not set to Auto) if the architecture
         remains present in the capabilities.
         </li>
         <li 
  class="enumerate" id="x1-39018x7">The best supported architecture is chosen in this order: x86_64, i386, i386-user32.</li></ol>
     <!--l. 2521--><p class="noindent" >Unlike macOS 10.7, where select boards identifiers are treated as the i386 only machines, and macOS 10.5 or
     earlier, where x86_64 is not supported by the macOS kernel, macOS 10.6 is very special. The architecture
     choice on macOS 10.6 depends on many factors including not only the board identifier, but also macOS
     product type (client vs server), macOS point release, and RAM amount. The detection of them all is
     complicated and not practical, because several point releases had genuine bugs and failed to properly perform
     the server detection in the first place. For this reason OpenCore on macOS 10.6 will fallback to x86_64
     architecture whenever it is supported by the board at all, just like on macOS 10.7. As a reference here is
     the 64-bit Mac model compatibility corresponding to actual EfiBoot behaviour on macOS 10.6.8 and
     10.7.5.
</p>
     <div class="center" 
>
                                                                                                  
                                                                                                  
         <li class="itemize">OCBP — OcAppleBootPolicyLib
         </li>
         <li class="itemize">OCB — OcBootManagementLib
         </li>
         <li class="itemize">OCCL — OcAppleChunkListLib
         </li>
         <li class="itemize">OCCPU — OcCpuLib
         </li>
         <li class="itemize">OCC — OcConsoleLib
         </li>
         <li class="itemize"><span class="uwave">OCDC</span> <span class="uwave">— OcDriverConnectionLib </span>
         </li>
         <li class="itemize">OCDH — OcDataHubLib
         </li>
         <li class="itemize">OCDI — OcAppleDiskImageLib
         </li>
         <li class="itemize"><span class="sout">OCFSQ</span> <span class="sout">— OcFileLib, UnblockFs quirk </span>
         </li>
         <li class="itemize">OCFS — OcFileLib
         </li>
         <li class="itemize">OCFV — OcFirmwareVolumeLib
         </li>
         <li class="itemize">OCHS — OcHashServicesLib
         </li>
         <li class="itemize">OCI4 — OcAppleImg4Lib
         </li>
         <li class="itemize">OCIC — OcImageConversionLib
         </li>
         <li class="itemize">OCII — OcInputLib
         </li>
         <li class="itemize">OCJS — OcApfsLib
         </li>
         <li class="itemize">OCKM — OcAppleKeyMapLib
         </li>
         <li class="itemize">OCL — OcDebugLogLib
         </li>
         <li class="itemize">OCMCO — OcMachoLib
         </li>
         <li class="itemize">OCME — OcHeciLib
         </li>
         <li class="itemize">OCMM — OcMemoryLib
         </li>
         <li class="itemize">OCPI — OcFileLib, partition info
         </li>
         <li class="itemize">OCPNG — OcPngLib
         </li>
         <li class="itemize">OCRAM — OcAppleRamDiskLib
         </li>
         <li class="itemize">OCRTC — OcRtcLib
         </li>
         <li class="itemize">OCSB — OcAppleSecureBootLib
         </li>
         <li class="itemize">OCSMB — OcSmbiosLib
         </li>
         <li class="itemize">OCSMC — OcSmcLib
         </li>
         <li class="itemize">OCST — OcStorageLib
                                                                                                  
                                                                                                  
         </li>
         <li 
  class="enumerate" id="x1-45062x7">Since Default value will increase with time to support the latest major release operating system, it is not
         recommended to use ApECID and Default value together.</li></ol>
     <!--l. 3703--><p class="noindent" >Sometimes the already installed operating system may have outdated Apple Secure Boot manifests on the Preboot
     partition causing boot failure. If you see the “OCB: Apple Secure Boot prohibits this boot entry, enforcing!”
     message, it is likely the case. When this happens you can either reinstall the operating system or copy
     the manifests (files with .im4m extension, like boot.efi.j137.im4m) from /usr/standalone/i386 to
     /Volumes/Preboot/&#x003C;UUID&#x003E;/System/Library/CoreServices. Here &#x003C;UUID&#x003E; is your system volume identifier. <span class="uwave">On HFS+
     installations the manifests should be copied to </span><span class="uwave">/System/Library/CoreServices</span> <span class="uwave">on the system volume.
     </span>
     </p><!--l. 3714--><p class="noindent" >For more details on how to configure Apple Secure Boot with UEFI Secure Boot refer to ?? section.
</p>
     </li></ol>
<a 
 id="x1-45063r48"></a>
<h4 class="subsectionHead"><span class="titlemark">8.6   </span> <a 
 id="x1-460006"></a>Entry Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-46002x1">Arguments<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Arbitrary ASCII string used as boot arguments (load options) of the specified entry.
     </li>
     <li 
  class="enumerate" id="x1-46004x2">Auxiliary<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This entry will not be listed by default when HideAuxiliary is set to true.
     </li>
     <li 
  class="enumerate" id="x1-46006x3">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. It is implementation
     defined whether this value is used.
     </li>
     <li 
  class="enumerate" id="x1-46008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This entry will not be listed unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-46010x5">Name<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Human readable entry name displayed in boot picker.
     </li>
     <li 
  class="enumerate" id="x1-46012x6">Path<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Entry location depending on entry type.
         <ul class="itemize1">
         <li class="itemize">Entries specify external boot options, and therefore take device paths in Path key. These values are not
         checked, thus be extremely careful. Example: PciRoot(0x0)/Pci(0x1,0x1)/.../\EFI\COOL.EFI
         </li>
         <li class="itemize">Tools specify internal boot options, which are part of bootloader vault, and therefore take file paths relative
                                                                                                  
                                                                                                  
     Four-byte BGRA data defining boot.efi user interface background colour. Standard colours include BF BF BF
     00 (Light Gray) and 00 00 00 00 (Syrah Black). Other colours may be set at user’s preference.</li></ul>
<a 
 id="x1-51001r54"></a>
<h4 class="subsectionHead"><span class="titlemark">9.5   </span> <a 
 id="x1-520005"></a>Other Variables</h4>
<!--l. 4023--><p class="noindent" >The following variables may be useful for certain configurations or troubleshooting:
</p>
     <ul class="itemize1">
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:boot-args
     Kernel arguments, used to pass configuration to Apple kernel and drivers. There are many arguments, which
     may be found by looking for the use of PE_parse_boot_argn function in the kernel or driver code. Some of the
     known boot arguments include:
         <ul class="itemize2">
         <li class="itemize">acpi_layer=0xFFFFFFFF
         </li>
         <li class="itemize">acpi_level=0xFFFF5F (implies <a 
href="https://github.com/acpica/acpica/blob/master/source/include/acoutput.h" >ACPI_ALL_COMPONENTS</a>)
         </li>
         <li class="itemize"><span class="uwave">arch=i386</span> <span class="uwave">(force kernel architecture to </span><span class="uwave">i386</span><span class="uwave">, see </span><span class="uwave">KernelArch</span><span class="uwave">) </span>
         </li>
         <li class="itemize">batman=VALUE (AppleSmartBatteryManager debug mask)
         </li>
         <li class="itemize">batman-nosmc=1 (disable AppleSmartBatteryManager SMC interface)
         </li>
         <li class="itemize">cpus=VALUE (maximum number of CPUs used)
         </li>
         <li class="itemize">debug=VALUE (debug mask)
         </li>
         <li class="itemize">io=VALUE (IOKit debug mask)
         </li>
         <li class="itemize">keepsyms=1 (show panic log debug symbols)
         </li>
         <li class="itemize">kextlog=VALUE (kernel extension loading debug mask)
         </li>
         <li class="itemize">nv_disable=1 (disables NVIDIA GPU acceleration)
         </li>
         <li class="itemize">nvda_drv=1 (legacy way to enable NVIDIA web driver, removed in 10.12)
         </li>
         <li class="itemize">npci=0x2000 (<a 
href="https://www.insanelymac.com/forum/topic/260539-1068-officially-released/?do=findComment&comment=1707972" >legacy</a>, disables kIOPCIConfiguratorPFM64)
         </li>
         <li class="itemize">lapic_dont_panic=1
         </li>
         <li class="itemize">slide=VALUE (manually set KASLR slide)
         </li>
         <li class="itemize">smcdebug=VALUE (AppleSMC debug mask)
         </li>
         <li class="itemize">-amd_no_dgpu_accel (alternative to <a 
href="https://github.com/acidanthera/WhateverGreen" >WhateverGreen</a>’s -radvesa for new GPUs)
         </li>
         <li class="itemize">-nehalem_error_disable
         </li>
         <li class="itemize">-no_compat_check (disable model checking <span class="uwave">on 10.7+</span>)
         </li>
         <li class="itemize">-s (single mode)
         </li>
         <li class="itemize">-v (verbose mode)
         </li>
         <li class="itemize">-x (safe mode)</li></ul>
     <!--l. 4063--><p class="noindent" >There are multiple external places summarising macOS argument lists: <a 
href="https://osxeon.wordpress.com/2015/08/10/boot-argument-options-in-os-x" >example 1</a>, <a 
href="https://superuser.com/questions/255176/is-there-a-list-of-available-boot-args-for-darwin-os-x" >example 2</a>.
                                                                                                  
                                                                                                  
         installed on a drive with EFI partition being not the first partition on the disk.
         </li>
         <li class="itemize">FW_FEATURE_SUPPORTS_UEFI_WINDOWS_BOOT (0x20000000) - Without this bit it is not possible to reboot
         to Windows installed on a drive with EFI partition being the first partition on the disk.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-55006x3"><span class="uwave">ProcessorType</span> <span class="uwave">Type</span><span class="uwave">: </span><span class="uwave">plist integer</span><br 
class="newline" /><span class="uwave">Failsafe</span><span class="uwave">: Automatic</span><br 
class="newline" /><span class="uwave">Description</span><span class="uwave">: Refer to SMBIOS </span><span class="uwave">ProcessorType</span><span class="uwave">. </span>
     </li>
     <li 
  class="enumerate" id="x1-55008x4">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: MacPro6,1<br 
class="newline" />Description: Refer to SMBIOS SystemProductName.
     </li>
     <li 
  class="enumerate" id="x1-55010x5">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: OPENCORE_SN1<br 
class="newline" />Description: Refer to SMBIOS SystemSerialNumber.
     </li>
     <li 
  class="enumerate" id="x1-55012x6">SystemUUID<br 
class="newline" />Type: plist string, GUID<br 
class="newline" />Failsafe: OEM specified<br 
class="newline" />Description: Refer to SMBIOS SystemUUID.
     </li>
     <li 
  class="enumerate" id="x1-55014x7">MLB<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: OPENCORE_MLB_SN11<br 
class="newline" />Description: Refer to SMBIOS BoardSerialNumber.
     </li>
     <li 
  class="enumerate" id="x1-55016x8">ROM<br 
class="newline" />Type: plist data, 6 bytes<br 
class="newline" />Failsafe: all zero<br 
class="newline" />Description: Refer to 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ROM.
     </li></ol>
<a 
 id="x1-55017r58"></a>
<h4 class="subsectionHead"><span class="titlemark">10.3   </span> <a 
 id="x1-560003"></a>DataHub Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-56002x1">PlatformName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Not installed<br 
class="newline" />Description: Sets name in gEfiMiscSubClassGuid. Value found on Macs is platform in ASCII.
     </li>
     <li 
  class="enumerate" id="x1-56004x2">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Not installed<br 
class="newline" />Description:   Sets   Model  in   gEfiMiscSubClassGuid.   Value   found   on   Macs   is   equal   to   SMBIOS
     SystemProductName in Unicode.
     </li>
     <li 
  class="enumerate" id="x1-56006x3">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Not installed<br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE134 - Version<br 
class="newline" />Description: ASCII string containing SMC version in upper case. Missing on T2 based Macs. Ignored when
     zero.
     </li>
     <li 
  class="enumerate" id="x1-58050x25">FirmwareFeatures<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: 0<br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE128 - FirmwareFeatures and ExtendedFirmwareFeatures<br 
class="newline" />Description: 64-bit firmware features bitmask. Refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleFeatures.h" >AppleFeatures.h</a> for more details. Lower 32 bits match
     FirmwareFeatures. Upper 64 bits match ExtendedFirmwareFeatures.
     </li>
     <li 
  class="enumerate" id="x1-58052x26">FirmwareFeaturesMask<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: 0<br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE128 - FirmwareFeaturesMask and ExtendedFirmwareFeaturesMask<br 
class="newline" />Description: Supported bits of extended firmware features bitmask. Refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleFeatures.h" >AppleFeatures.h</a> for more details. Lower 32
     bits match FirmwareFeaturesMask. Upper 64 bits match ExtendedFirmwareFeaturesMask.
     </li>
     <li 
  class="enumerate" id="x1-58054x27">ProcessorType<br 
class="newline" />Type: plist integer, 16-bit<br 
class="newline" />Failsafe: Automatic<br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE131 - ProcessorType<br 
class="newline" />Description: Combined of Processor Major and Minor types<span class="uwave">. </span>
     <!--l. 4905--><p class="noindent" ><span class="uwave">Automatic value generation tries to provide most accurate value for the currently installed CPU. When this fails please
     make sure to create an </span><a 
href="https://github.com/acidanthera/bugtracker/issues" >issue</a> <span class="uwave">and provide </span><span class="uwave">sysctl machdep.cpu</span> <span class="uwave">and </span><a 
href="https://github.com/acidanthera/dmidecode" >dmidecode</a> <span class="uwave">output. For a full list of available values
     and their limitations (the value will only apply if the CPU core count matches) refer to Apple SMBIOS definitions header
     </span><a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleSmBios.h" >here</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-58056x28">MemoryFormFactor<br 
class="newline" />Type: plist integer, 8-bit<br 
class="newline" />Failsafe: OEM specified<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Form Factor<br 
class="newline" />Description: Memory form factor. On Macs it should be DIMM or SODIMM.</li></ol>
<a 
 id="x1-58057r56"></a>
<h3 class="sectionHead"><span class="titlemark">11   </span> <a 
 id="x1-5900011"></a>UEFI</h3>
<a 
 id="x1-59001r61"></a>
<h4 class="subsectionHead"><span class="titlemark">11.1   </span> <a 
 id="x1-600001"></a>Introduction</h4>
<!--l. 4924--><p class="noindent" ><a 
href="https://uefi.org/specifications" >UEFI</a> (Unified Extensible Firmware Interface) is a specification that defines a software interface between an operating system
and platform firmware. This section allows to load additional UEFI modules and/or apply tweaks for the onboard firmware. To
inspect firmware contents, apply modifications and perform upgrades <a 
href="https://github.com/LongSoft/UEFITool/releases" >UEFITool</a> and supplementary utilities can be
used.
<a 
 id="x1-60001r63"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">11.2   </span> <a 
 id="x1-610002"></a>Drivers</h4>
<!--l. 4933--><p class="noindent" >Depending on the firmware a different set of drivers may be required. Loading an incompatible driver may lead your
system to unbootable state or even cause permanent firmware damage. Some of the known drivers are listed
below:
</p>
                                                                                                  


</body>
</html>