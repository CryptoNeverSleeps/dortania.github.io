<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Differences</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="Differences.css" /> 
<meta name="src" content="Differences.tex" /> 
<link rel="stylesheet" type="text/css" href="../main.css" /></head><body 
><div class="center" 
>
<!--l. 142--><p class="noindent" >
</p><!--l. 149--><p class="noindent" > <img 
src="Logos/Logo-.png" alt="PIC"  
width="160" height="160"  />
</p><!--l. 153--><p class="noindent" >OpenCore
</p><!--l. 157--><p class="noindent" >Reference Manual (0.6<span class="sout">.3</span><span class="uwave">.4</span>)
</p><!--l. 161--><p class="noindent" >[2020.11.08]
</p><!--l. 169--><p class="noindent" >Copyright ©2018-2020 vit9696
</p>
</div>
                                                                                                  
                                                                                                  
     Windows), see BootProtect for more details.
     </li>
     <li class="itemize">boot <br 
class="newline" />Duet bootstrap loader, which initialises UEFI environment on legacy BIOS firmware and loads OpenCore.efi
     similarly to other bootstrap loaders. Modern Duet bootstrap loader will default to OpenCore.efi on the same
     partition when present.
     </li>
     <li class="itemize">ACPI <br 
class="newline" />Directory used for storing supplemental ACPI information for ?? section.
     </li>
     <li class="itemize">Drivers <br 
class="newline" />Directory used for storing supplemental UEFI drivers for ?? section.
     </li>
     <li class="itemize">Kexts <br 
class="newline" />Directory used for storing supplemental kernel information for ?? section.
     </li>
     <li class="itemize">Resources <br 
class="newline" />Directory used for storing media resources, such as audio files for screen reader support. See ?? section for more
     details. This directory also contains image files for graphical user interface. See ?? section for more details.
     </li>
     <li class="itemize">Tools <br 
class="newline" />Directory used for storing supplemental tools.
     </li>
     <li class="itemize">OpenCore.efi <br 
class="newline" />Main booter driver responsible for operating system loading. <span class="uwave">The directory </span><span class="uwave">OpenCore.efi</span> <span class="uwave">resides is called the
     </span><span class="uwave">root directory</span><span class="uwave">. By default </span><span class="uwave">root directory</span> <span class="uwave">is set to </span><span class="uwave">EFI\OC</span><span class="uwave">, however, when launching </span><span class="uwave">OpenCore.efi</span> <span class="uwave">directly
     or through </span><span class="uwave">Bootstrap.efi</span><span class="uwave">, other directories containing </span><span class="uwave">OpenCore.efi</span> <span class="uwave">can also be supported. </span>
     </li>
     <li class="itemize">config.plist <br 
class="newline" />OC Config.
     </li>
     <li class="itemize">vault.plist <br 
class="newline" />Hashes for all files potentially loadable by OC Config.
     </li>
     <li class="itemize">vault.sig <br 
class="newline" />Signature for vault.plist.
     </li>
     <li class="itemize">SysReport <br 
class="newline" />Directory containing system reports generated by SysReport option.
     </li>
     <li class="itemize">nvram.plist <br 
class="newline" />OpenCore variable import file.
     </li>
     <li class="itemize">opencore-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />OpenCore log file.
     </li>
     <li class="itemize">panic-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />Kernel panic log file.</li></ul>
<!--l. 624--><p class="noindent" >Note: It is not guaranteed that paths longer than OC_STORAGE_SAFE_PATH_MAX (128 characters including <br 
class="newline" />0-terminator) will be accessible within OpenCore.
<a 
 id="x1-9001r10"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-100002"></a>Installation and Upgrade</h4>
<!--l. 630--><p class="noindent" >To install OpenCore reflect the ?? described in the previous section on a EFI volume of a GPT partition. While corresponding
sections of this document do provide some information regarding external resources such as ACPI tables, UEFI drivers, or
kernel extensions (kexts), completeness of the matter is out of the scope of this document. Information about kernel extensions
                                                                                                  
                                                                                                  
     </p><!--l. 3440--><p class="noindent" >VirtualSMC performs authenticated restart by saving disk encryption key split in NVRAM and RTC,
     which despite being removed as soon as OpenCore starts, may be considered a security risk and thus is
     optional.
     </p></li>
     <li 
  class="enumerate" id="x1-45017x5"><span class="uwave">BlacklistAppleUpdate</span><br 
class="newline" /><span class="uwave">Type</span><span class="uwave">: </span><span class="uwave">plist boolean</span><br 
class="newline" /><span class="uwave">Failsafe</span><span class="uwave">: </span><span class="uwave">false</span><br 
class="newline" /><span class="uwave">Description</span><span class="uwave">: Ignore boot options trying to update Apple peripheral firmware (e.g. </span><span class="uwave">MultiUpdater.efi</span><span class="uwave">).
     </span>
     <!--l. 3452--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This option exists due to some operating systems, namely macOS Big Sur, being </span><a 
href="https://github.com/acidanthera/bugtracker/issues/1255" >incapable</a> <span class="uwave">of disabling firmware
     updates with the NVRAM variable (</span><span class="uwave">run-efi-updater</span><span class="uwave">). </span>
     </p></li>
     <li 
  class="enumerate" id="x1-45019x6">BootProtect<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Attempt to provide bootloader persistence.
     <!--l. 3463--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">None — do nothing.
         </li>
         <li class="itemize">Bootstrap — create or update top-priority \EFI\OC\Bootstrap\Bootstrap.efi boot option (Boot9696)
         in UEFI variable storage at bootloader startup. For this option to work RequestBootVarRouting is required
         to be enabled.</li></ul>
     <!--l. 3474--><p class="noindent" >This option provides integration with third-party operating system installation and upgrade at the times they overwrite
     \EFI\BOOT\BOOTx64.efi file. By creating a custom option in Bootstrap mode this file path becomes no longer used for
     bootstrapping OpenCore.
     </p><!--l. 3479--><p class="noindent" >Note 1: Some types of firmware may have faulty NVRAM, no boot option support, or other incompatibilities. While
     unlikely, the use of this option may even cause boot failures. This option should be used without any warranty exclusively
     on the boards known to be compatible. Check <a 
href="https://github.com/acidanthera/bugtracker/issues/1222" >acidanthera/bugtracker#1222</a> for some known issues with Haswell and
     other boards.
     </p><!--l. 3485--><p class="noindent" >Note 2: Be aware that while NVRAM reset executed from OpenCore should not erase the boot option created in
     Bootstrap, executing NVRAM reset prior to loading OpenCore will remove it.
     </p></li>
     <li 
  class="enumerate" id="x1-45021x7"><a 
 id="x1-450207"></a> DmgLoading<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Signed<br 
class="newline" />Description: Define Disk Image (DMG) loading policy used for macOS Recovery.
     <!--l. 3494--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Disabled — loading DMG images will fail. Disabled policy will still let macOS Recovery to load in most
         cases as there usually are boot.efi files compatible with Apple Secure Boot. Manually downloaded DMG
         images stored in com.apple.recovery.boot directories will not load, however.
         </li>
         <li class="itemize">Signed — only Apple-signed DMG images will load. Due to Apple Secure Boot design Signed policy will
         let any Apple-signed macOS Recovery to load regardless of Apple Secure Boot state, which may not always
         be desired.
         </li>
         <li class="itemize">Any — any DMG images will mount as normal filesystems. Any policy is strongly not recommended and
         will cause a boot failure when Apple Secure Boot is activated.</li></ul>
                                                                                                  
                                                                                                  
     /Volumes/Preboot/&#x003C;UUID&#x003E;/System/Library/CoreServices. Here &#x003C;UUID&#x003E; is the system volume identifier. On
     HFS+ installations the manifests should be copied to /System/Library/CoreServices on the system
     volume.
     </p><!--l. 3818--><p class="noindent" >For more details on how to configure Apple Secure Boot with UEFI Secure Boot refer to ?? section.
</p>
     </li></ol>
<a 
 id="x1-45065r48"></a>
<h4 class="subsectionHead"><span class="titlemark">8.6   </span> <a 
 id="x1-460006"></a>Entry Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-46002x1">Arguments<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Arbitrary ASCII string used as boot arguments (load options) of the specified entry.
     </li>
     <li 
  class="enumerate" id="x1-46004x2">Auxiliary<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This entry will not be listed by default when HideAuxiliary is set to true.
     </li>
     <li 
  class="enumerate" id="x1-46006x3">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. It is implementation
     defined whether this value is used.
     </li>
     <li 
  class="enumerate" id="x1-46008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This entry will not be listed unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-46010x5">Name<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Human readable entry name displayed in boot picker.
     </li>
     <li 
  class="enumerate" id="x1-46012x6">Path<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty string<br 
class="newline" />Description: Entry location depending on entry type.
         <ul class="itemize1">
         <li class="itemize">Entries specify external boot options, and therefore take device paths in Path key. These values are not
         checked, thus be extremely careful. Example: PciRoot(0x0)/Pci(0x1,0x1)/.../\EFI\COOL.EFI
         </li>
         <li class="itemize">Tools specify internal boot options, which are part of bootloader vault, and therefore take file paths relative
         to OC/Tools directory. Example: OpenShell.efi.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-46014x7"><span class="uwave">RealPath</span><br 
class="newline" /><span class="uwave">Type</span><span class="uwave">: </span><span class="uwave">plist boolean</span><br 
class="newline" /><span class="uwave">Failsafe</span><span class="uwave">: </span><span class="uwave">false</span><br 
class="newline" /><span class="uwave">Description</span><span class="uwave">: Pass full path to the tool when launching. </span>
     <!--l. 3888--><p class="noindent" ><span class="uwave">Passing tool directory may be unsafe for tool accidentally trying to access files without checking their integrity and thus
                                                                                                  
                                                                                                  
     should generally be disabled. Reason to enable this property may include cases where tools cannot work without external
     files or may need them for better function (e.g. </span><span class="uwave">memtest86</span> <span class="uwave">for logging and configuration or </span><span class="uwave">Shell</span> <span class="uwave">for automatic script
     execution). </span>
     </p><!--l. 3892--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This property is only valid for </span><span class="uwave">Tools</span><span class="uwave">. For </span><span class="uwave">Entries</span> <span class="uwave">this property cannot be specified and is always </span><span class="uwave">true</span><span class="uwave">.
     </span>
     </p></li>
     <li 
  class="enumerate" id="x1-46016x8"><span class="uwave">TextMode</span><br 
class="newline" /><span class="uwave">Type</span><span class="uwave">: </span><span class="uwave">plist boolean</span><br 
class="newline" /><span class="uwave">Failsafe</span><span class="uwave">: </span><span class="uwave">false</span><br 
class="newline" /><span class="uwave">Description</span><span class="uwave">: Run the entry in text mode instead of graphics mode. </span>
     <!--l. 3905--><p class="noindent" ><span class="uwave">This setting may be benefitial to some older tools that require text output. By default all the tools are launched in
     graphics mode. Read more about text modes in </span>?? <span class="uwave">section below. </span>
</p>
     </li></ol>
<a 
 id="x1-46017r43"></a>
<h3 class="sectionHead"><span class="titlemark">9   </span> <a 
 id="x1-470009"></a>NVRAM</h3>
<a 
 id="x1-47001r49"></a>
<h4 class="subsectionHead"><span class="titlemark">9.1   </span> <a 
 id="x1-480001"></a>Introduction</h4>
<!--l. 3914--><p class="noindent" >Has plist dict type and allows to set volatile UEFI variables commonly referred as NVRAM variables. Refer to man nvram
for more details. macOS extensively uses NVRAM variables for OS — Bootloader — Firmware intercommunication, and thus
supplying several NVRAM is required for proper macOS functioning.
</p><!--l. 3920--><p class="noindent" >Each NVRAM variable consists of its name, value, attributes (refer to UEFI specification), and its <a 
href="https://en.wikipedia.org/wiki/Universally_unique_identifier" >GUID</a>, representing which
‘section’ NVRAM variable belongs to. macOS uses several GUIDs, including but not limited to:
</p>
     <ul class="itemize1">
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14 (APPLE_VENDOR_VARIABLE_GUID)
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82 (APPLE_BOOT_VARIABLE_GUID)
     </li>
     <li class="itemize">8BE4DF61-93CA-11D2-AA0D-00E098032B8C (EFI_GLOBAL_VARIABLE_GUID)
     </li>
     <li class="itemize">4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102 (OC_VENDOR_VARIABLE_GUID)</li></ul>
<!--l. 3942--><p class="noindent" >Note: Some of the variables may be added by ?? or ?? subsections of ?? section. Please ensure that variables of this section
never collide with them, as behaviour is undefined otherwise.
</p><!--l. 3949--><p class="noindent" >For proper macOS functioning it is often required to use OC_FIRMWARE_RUNTIME protocol implementation currently offered as a
part of OpenRuntime driver. While it brings any benefits, there are certain limitations which arise depending on the
use.
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-48002x1">Not all tools may be aware of protected namespaces.<br 
class="newline" />When RequestBootVarRouting is used Boot-prefixed variable access is restricted and protected in a separate
     namespace. To access the original variables tools have to be aware of OC_FIRMWARE_RUNTIME logic.</li></ol>
<a 
 id="x1-48003r51"></a>
<h4 class="subsectionHead"><span class="titlemark">9.2   </span> <a 
 id="x1-490002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-49002x1">Add<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Sets NVRAM variables from a map (plist dict) of GUIDs to a map (plist dict) of variable
     names and their values in plist metadata format. GUIDs must be provided in canonic string format in upper
     or lower case (e.g. 8BE4DF61-93CA-11D2-AA0D-00E098032B8C).
                                                                                                  
                                                                                                  
     decoded keyboard list from AppleKeyboardLayouts-L.dat can be found <a 
href="https://github.com/acidanthera/OpenCorePkg/tree/master/Utilities/AppleKeyboardLayouts" >here</a>. Using non-latin keyboard on 10.14
     will not enable ABC keyboard, unlike previous and subsequent macOS versions, and is thus not recommended
     in case 10.14 is needed.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:security-mode
     ASCII  string  defining  FireWire  security  mode.  Legacy,  can  be  found  in  IOFireWireFamily  source  code  in
     <a 
href="https://opensource.apple.com/source/IOFireWireFamily/IOFireWireFamily-473/IOFireWireFamily.kmodproj/IOFireWireController.cpp.auto.html" >IOFireWireController.cpp</a>. It is recommended not to set this variable, which may speedup system startup. Setting
     to full is equivalent to not setting the variable and none disables FireWire security.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:UIScale
     One-byte data defining boot.efi user interface scaling. Should be 01 for normal screens and 02 for HiDPI
     screens.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:DefaultBackgroundColor
     Four-byte BGRA data defining boot.efi user interface background colour. Standard colours include BF BF BF
     00 (Light Gray) and 00 00 00 00 (Syrah Black). Other colours may be set at user’s preference.</li></ul>
<a 
 id="x1-51001r54"></a>
<h4 class="subsectionHead"><span class="titlemark">9.5   </span> <a 
 id="x1-520005"></a>Other Variables</h4>
<!--l. 4157--><p class="noindent" >The following variables may be useful for certain configurations or troubleshooting:
</p>
     <ul class="itemize1">
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:boot-args
     Kernel arguments, used to pass configuration to Apple kernel and drivers. There are many arguments, which
     may be found by looking for the use of PE_parse_boot_argn function in the kernel or driver code. Some of the
     known boot arguments include:
         <ul class="itemize2">
         <li class="itemize">acpi_layer=0xFFFFFFFF
         </li>
         <li class="itemize">acpi_level=0xFFFF5F (implies <a 
href="https://github.com/acpica/acpica/blob/master/source/include/acoutput.h" >ACPI_ALL_COMPONENTS</a>)
         </li>
         <li class="itemize">arch=i386 (force kernel architecture to i386, see KernelArch)
         </li>
         <li class="itemize">batman=VALUE (AppleSmartBatteryManager debug mask)
         </li>
         <li class="itemize">batman-nosmc=1 (disable AppleSmartBatteryManager SMC interface)
         </li>
         <li class="itemize">cpus=VALUE (maximum number of CPUs used)
         </li>
         <li class="itemize">debug=VALUE (debug mask)
         </li>
         <li class="itemize">io=VALUE (IOKit debug mask)
         </li>
         <li class="itemize">keepsyms=1 (show panic log debug symbols)
         </li>
         <li class="itemize">kextlog=VALUE (kernel extension loading debug mask<span class="uwave">) </span>
         </li>
         <li class="itemize"><span class="uwave">nvram-log=1</span> <span class="uwave">(enables AppleEFINVRAM logs</span>)
         </li>
         <li class="itemize">nv_disable=1 (disables NVIDIA GPU acceleration)
         </li>
         <li class="itemize">nvda_drv=1 (legacy way to enable NVIDIA web driver, removed in 10.12)
         </li>
         <li class="itemize">npci=0x2000 (<a 
href="https://www.insanelymac.com/forum/topic/260539-1068-officially-released/?do=findComment&comment=1707972" >legacy</a>, disables kIOPCIConfiguratorPFM64)
         </li>
         <li class="itemize">lapic_dont_panic=1
         </li>
                                                                                                  


</body>
</html>